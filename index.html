<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wiedersehen: Rabsi & Finn</title>
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #121212 0%, #2d1a24 100%);
            --container-bg: rgba(30, 30, 30, 0.9);
            --text-main: #f06292;
            --star-color: #fff176;
            --label-color: #bbb;
            --separator-color: #4a4a4a;
            --shadow: rgba(0,0,0,0.5);
            --event-bg: rgba(50, 50, 50, 0.5);
            --input-bg: rgba(255, 255, 255, 0.05);
        }

        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: var(--bg-gradient);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            overflow-x: hidden;
            position: relative;
            color: white;
            padding: 20px 0;
        }

        .star {
            position: absolute;
            top: -50px;
            color: var(--star-color);
            pointer-events: none;
            z-index: 1;
            animation: fall linear forwards;
        }

        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        .container {
            background: var(--container-bg);
            padding: 2.5rem 1.5rem;
            border-radius: 40px;
            box-shadow: 0 20px 50px var(--shadow);
            width: 90%;
            max-width: 800px;
            text-align: center;
            backdrop-filter: blur(12px);
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        h1 { color: var(--text-main); font-size: 1.8rem; margin-bottom: 1.5rem; }
        .heart { display: inline-block; color: #e91e63; animation: heartbeat 1.5s infinite; font-size: 2rem; vertical-align: middle; }
        @keyframes heartbeat { 0%, 30%, 60% { transform: scale(1); } 15% { transform: scale(1.2); } 45% { transform: scale(1.1); } }

        .countdown-wrapper { display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 10px; }
        .number { font-size: 3.5rem; font-weight: 900; background: linear-gradient(120deg, #f06292, #ad1457, #7b1fa2, #f06292); background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: gradientMove 5s infinite; line-height: 1; }
        @keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .label { font-size: 0.7rem; color: var(--label-color); text-transform: uppercase; letter-spacing: 2px; margin-top: 5px; }
        .separator { font-size: 2.5rem; color: var(--separator-color); font-weight: 200; margin-top: -15px; }

        .weeks-display { margin: 15px 0; padding-bottom: 20px; border-bottom: 1px solid var(--separator-color); color: var(--text-main); font-weight: 300; }

        /* Highlights Bereich */
        .events-title { font-size: 1rem; color: var(--text-main); margin: 20px 0 10px; text-transform: uppercase; letter-spacing: 2px; font-weight: bold; }
        
        .event-input-group { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 20px; }
        input { background: var(--input-bg); border: 1px solid var(--separator-color); border-radius: 10px; padding: 10px; color: white; outline: none; }
        button#add-event { background: var(--text-main); border: none; border-radius: 10px; padding: 10px 20px; color: white; cursor: pointer; font-weight: bold; transition: 0.3s; }
        button#add-event:hover { transform: scale(1.05); filter: brightness(1.2); }

        .events-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        .event-card { background: var(--event-bg); padding: 15px; border-radius: 15px; border: 1px solid var(--separator-color); position: relative; }
        .event-date { display: block; font-size: 0.7rem; color: var(--label-color); margin-bottom: 5px; }
        .event-name { display: block; font-size: 0.9rem; font-weight: bold; }
        .delete-btn { position: absolute; top: 5px; right: 8px; color: #666; cursor: pointer; font-size: 0.8rem; }
        .delete-btn:hover { color: white; }

        @media (max-width: 600px) { .number { font-size: 2.2rem; } .separator { font-size: 1.5rem; } h1 { font-size: 1.4rem; } }
    </style>
</head>
<body>

    <div class="container">
        <h1>Zeit bis zum Wiedersehen von Rabsi und Finn <span class="heart">‚ù§Ô∏è</span></h1>
        
        <div class="countdown-wrapper">
            <div class="unit-group"><span class="number" id="days">00</span><span class="label">Tage</span></div>
            <div class="separator">:</div>
            <div class="unit-group"><span class="number" id="hours">00</span><span class="label">Std</span></div>
            <div class="separator">:</div>
            <div class="unit-group"><span class="number" id="mins">00</span><span class="label">Min</span></div>
            <div class="separator">:</div>
            <div class="unit-group"><span class="number" id="secs">00</span><span class="label">Sek</span></div>
        </div>

        <div class="weeks-display">Noch <span id="weeks-count">0</span> Wochen</div>

        <div class="events-title">Highlights Planen üóìÔ∏è</div>
        
        <div class="event-input-group">
            <input type="text" id="event-name" placeholder="Was steht an? (z.B. Telefonieren)">
            <input type="datetime-local" id="event-date">
            <button id="add-event">Hinzuf√ºgen</button>
        </div>

        <div class="events-list" id="events-list"></div>
    </div>

    <script>
        // Sterne
        setInterval(() => {
            const star = document.createElement('div');
            star.innerHTML = '‚òÖ'; star.className = 'star';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.fontSize = Math.random() * 15 + 10 + 'px';
            star.style.animationDuration = Math.random() * 3 + 3 + 's';
            star.style.opacity = Math.random() * 0.8;
            document.body.appendChild(star);
            setTimeout(() => star.remove(), 6000);
        }, 300);

        // Countdown
        const targetDate = new Date('March 28, 2026 17:00:00').getTime();
        function updateCountdown() {
            const now = new Date().getTime();
            const diff = targetDate - now;
            if (diff <= 0) { document.querySelector('.container').innerHTML = "<h1>Endlich zusammen! ‚ù§Ô∏è</h1>"; return; }
            document.getElementById('days').innerText = Math.floor(diff / 86400000).toString().padStart(2, '0');
            document.getElementById('hours').innerText = Math.floor((diff % 86400000) / 3600000).toString().padStart(2, '0');
            document.getElementById('mins').innerText = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
            document.getElementById('secs').innerText = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
            document.getElementById('weeks-count').innerText = (diff / 604800000).toFixed(1).replace('.', ',');
            
            checkEvents(now); // Pr√ºfen ob Events abgelaufen sind
        }

        // Event-Logik
        let events = JSON.parse(localStorage.getItem('rabsi_finn_events')) || [];

        function renderEvents() {
            const list = document.getElementById('events-list');
            list.innerHTML = '';
            events.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            events.forEach((ev, index) => {
                const dateObj = new Date(ev.date);
                const dateStr = dateObj.toLocaleString('de-DE', { day: '2-digit', month: '2-digit', hour: '2-digit', minute: '2-digit' });
                list.innerHTML += `
                    <div class="event-card">
                        <span class="delete-btn" onclick="removeEvent(${index})">‚úï</span>
                        <span class="event-date">${dateStr} Uhr</span>
                        <span class="event-name">${ev.name}</span>
                    </div>`;
            });
        }

        document.getElementById('add-event').onclick = () => {
            const name = document.getElementById('event-name').value;
            const date = document.getElementById('event-date').value;
            if (name && date) {
                events.push({ name, date });
                localStorage.setItem('rabsi_finn_events', JSON.stringify(events));
                renderEvents();
                document.getElementById('event-name').value = '';
                document.getElementById('event-date').value = '';
            }
        };

        function removeEvent(index) {
            events.splice(index, 1);
            localStorage.setItem('rabsi_finn_events', JSON.stringify(events));
            renderEvents();
        }

        function checkEvents(now) {
            const initialLength = events.length;
            events = events.filter(ev => new Date(ev.date).getTime() > now);
            if (events.length !== initialLength) {
                localStorage.setItem('rabsi_finn_events', JSON.stringify(events));
                renderEvents();
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();
        renderEvents();
    </script>
</body>
</html>
